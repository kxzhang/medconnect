<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>MedConnect</title>

    <!-- Bootstrap core CSS -->
    <link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" href="./styles.css" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="dashboard.css" rel="stylesheet">

  </head>

  <body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="./main.html">MedConnect</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <!--<li><a href="./search-relevance.html">Search</a></li>-->
     
           <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"> Hi Bob <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="./profilePage.html?author=0">View Profile</a></li>
            <li><a href="./login.html">Log Out</a></li>
          </ul>
        </li>

           
          </ul>
          <!--
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form> -->
          <form action="./search.html" class="navbar-form navbar-right">
            <input type="text" class="form-control" id="term" name="term" placeholder="Search by keyword...">
            <button type="submit" class="btn btn-default">Search</button>
          </form>
        </div>
      </div>
    </nav>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li class="active"><a onclick="clickedAwayFromContentButton('./question.html')">New Question</a></li>
          </ul>

          <ul class="nav nav-sidebar">
            <li><a onclick="clickedAwayFromContentButton('./main.html')">Most Popular</a></li>
            <li><a onclick="clickedAwayFromContentButton('./most-recent.html')">Most Recent</a></li>
          </ul>

          <ul class="nav nav-sidebar">
            <li><a onclick="clickedAwayFromContentButton('./application-process.html')">Application Process</a></li>
            <li><a onclick="clickedAwayFromContentButton('./courses.html')">Courses</a></li>
            <li><a onclick="clickedAwayFromContentButton('./interviews.html')">Interviews</a></li>
            <li><a onclick="clickedAwayFromContentButton('./mcat-exams.html')">MCAT Exams</a></li>
            <li><a onclick="clickedAwayFromContentButton('./medical-schools.html')">Medical Schools</a></li>
            <li><a onclick="clickedAwayFromContentButton('./research.html')">Research</a></li>
          </ul>
        </div>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <h1 class="page-header">Edit Question</h1>




    <div id="errorAlert" class="alert alert-danger alert-error" hidden="hidden">
        <a class="close" onclick="$('.alert').hide()">&times;</a>
        <strong>Error!</strong> Not all fields have been completed. Please verify that the Title, Tags, and Details fields are filled out.
    </div>

<form id="postQuestionForm" class="form-horizontal" role="form">

<div class="form-group form-group-sm">
<label class="col-sm-2 control-label" for="sm"> Post to: </label>
<div class="col-sm-10">
<select id="select" class="form-control" name="select-forumn">
<option>Application Process</option>
<option selected="selected">Courses</option>
<option>Interviews</option>
<option>MCAT Exams</option>
<option>Medical Schools</option>
<option>Research</option>
<option>Student Life</option>
</select>
</div>
</div>

<div class="form-group form-group-sm">
<label class="col-sm-2 control-label" for="sm"> Tags: </label>
<div class="col-sm-10">
<input id="post-tags" class="form-control" name="post-tags" type="text" value="cardiology classes"></input>
</div>
</div>

<div class="form-group form-group-sm">
<label class="col-sm-2 control-label" for="sm"> Title: </label>
<div class="col-sm-10">
<input id="post-title" class="form-control" name="post-title" type="text" value="What classes should a pre-med interested in cardiology take?"></input>
</div>
</div>


<div class="form-group">
<label class="col-sm-2 control-label" for="sm"> Details: </label>
<div class="col-sm-10">
<textarea class="form-control" id="question-text" name="question-text" rows="3">I am a second-year pre-med student at MIT. I have taken Intro to Cardiology and Organic Chemistry.</textarea>
</div>
</div>

<div class="form-group form-group-sm">
<label class="col-sm-2 control-label" for="sm"> </label>
<div class="col-sm-10">
<input type="checkbox" name="post-anonymous" value="True" onchange="enableBeforeUnload();"> Post as anonymous<br> </input>
</div>
</div>


<div align="right">
<div class="btn btn-primary" onclick="processSubmitQuestion()">Submit </div>
<div class="btn btn-primary" onclick="cancelContentButton('./main.html')">Cancel</div>
</div>



<!-- Modal HTML -->
    <div id="cancelModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Confirmation</h4>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to cancel your post?</p>
                    <p class="text-warning"><small>If you click continue, all your changes will be lost. Press close to remain on this current page.</small></p>
                </div>
                <div class="modal-footer">
                    <a id="modalLink" href="#" class="btn btn-primary" data-toggle="modal">Continue</a>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


</form>

    <div id="navigateAwayModal" class="modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Confirmation</h4>
                </div>
                <div class="modal-body">
                    <p>Are you sure you want to navigate away from this page?</p>
                    <p class="text-warning"><small>If you click continue, all your changes will be lost. Press close to remain on this current page.</small></p>
                </div>
                <div class="modal-footer">
                    <a id="newModalLink" href="#" class="btn btn-primary" data-toggle="modal">Continue</a>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


        </div>
      </div>
    </div>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script src="./bootstrap/js/bootstrap.min.js"></script>

    
    <script>
      //$("#errorAlert").hide();


      var cancelContentButton = function(location) {
        console.log(location);
        document.getElementById("modalLink").href = location;
        $("#cancelModal").modal('toggle');
      }

      var clickedAwayFromContentButton = function(location) {
        console.log(location);
        document.getElementById("newModalLink").href = location;
        $("#navigateAwayModal").modal('toggle');
      }


      var processSubmitQuestion = function(location) {
        var selection = document.getElementById("select").value;
        var tags = document.getElementById("post-tags").value;
        var title = document.getElementById("post-title").value;
        var text = document.getElementById("question-text").value;

        if(tags.trim() == "" || title.trim() == "" || text.trim() == ""){
          $("#errorAlert").hide();
          $("#errorAlert").show();
        } else {

          switch(selection) {
            case "Application Process":
              window.location.href = './application-process.html';
              break;
            case "Courses":
              window.location.href = './courses.html';
              break;
            case "Interviews":
              window.location.href = './interviews.html';
              break;
            case "MCAT Exams":
              window.location.href = './mcat-exams.html';
              break;
            case "Medical Schools":
              window.location.href = './medical-schools.html';
              break;
            case "Research":
              window.location.href = './research.html';
              break;
            case "Student Life":
              window.location.href = '#';
              break;
          }
      }
    }
</script>
  </body>
</html>